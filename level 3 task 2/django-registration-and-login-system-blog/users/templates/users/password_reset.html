{% extends "users/base.html" %}
{% block content %}
<div class="form-content my-3 p-3" style="
    min-height: 100vh;
    background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 50%, #80deea 100%);
    padding: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
">
    <div class="container" style="
        max-width: 100%;
        margin: 0 auto;
        padding: 0;
    ">
        <div class="row justify-content-center" style="
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0;
            padding: 0 15px;
        ">
            <div class="col-lg-5" style="
                width: 100%;
                max-width: 500px;
                padding: 0 15px;
            ">
                <div class="card shadow-lg border-0 rounded-lg mt-0 mb-3" style="
                    background: rgba(255, 255, 255, 0.95);
                    border: none;
                    border-radius: 20px;
                    box-shadow: 0 20px 40px rgba(0, 188, 212, 0.2), 
                               0 10px 20px rgba(0, 0, 0, 0.1);
                    overflow: hidden;
                    backdrop-filter: blur(15px);
                    margin: 0;
                    position: relative;
                    transition: all 0.3s ease;
                " onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 25px 50px rgba(0, 188, 212, 0.3), 0 15px 25px rgba(0, 0, 0, 0.15)'" 
                   onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 20px 40px rgba(0, 188, 212, 0.2), 0 10px 20px rgba(0, 0, 0, 0.1)'">
                    
                    <!-- Animated top border -->
                    <div style="
                        position: absolute;
                        top: 0;
                        left: 0;
                        right: 0;
                        height: 4px;
                        background: linear-gradient(90deg, #00e5ff, #00bcd4, #0097a7, #00e5ff);
                        background-size: 200% 100%;
                        animation: gradientFlow 3s ease-in-out infinite;
                    "></div>
                    
                    <div class="card-header justify-content-center" style="
                        background: linear-gradient(135deg, #00bcd4 0%, #0097a7 100%);
                        border: none;
                        padding: 30px;
                        text-align: center;
                        position: relative;
                        overflow: hidden;
                    ">
                        <!-- Background decoration -->
                        <div style="
                            position: absolute;
                            top: -50%;
                            left: -50%;
                            width: 200%;
                            height: 200%;
                            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
                            animation: rotate 20s linear infinite;
                        "></div>
                        
                        <div id="error_div"></div>
                        
                        <!-- Email icon -->
                        <div style="
                            width: 70px;
                            height: 70px;
                            background: rgba(255, 255, 255, 0.2);
                            border-radius: 50%;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            margin: 0 auto 20px auto;
                            backdrop-filter: blur(10px);
                            border: 3px solid rgba(255, 255, 255, 0.3);
                            animation: pulse 2s infinite;
                        ">
                            <svg width="35" height="35" fill="white" viewBox="0 0 24 24">
                                <path d="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z"/>
                            </svg>
                        </div>
                        
                        <h3 class="font-weight-light my-4 text-center" style="
                            color: white;
                            margin: 0;
                            font-weight: 300;
                            font-size: 1.6rem;
                            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
                            position: relative;
                            z-index: 1;
                        ">Forgot Password?</h3>
                        
                        <p style="
                            color: rgba(255, 255, 255, 0.9);
                            margin: 10px 0 0 0;
                            font-size: 0.95rem;
                            position: relative;
                            z-index: 1;
                        ">Enter your email to reset your password</p>
                    </div>
                    
                    {% if form.errors %}
                        <div class="alert alert-danger alert-dismissible" role="alert" style="
                            background: linear-gradient(135deg, #ff5252 0%, #f44336 100%);
                            border: none;
                            color: white;
                            margin: 20px;
                            border-radius: 12px;
                            padding: 15px 20px;
                            box-shadow: 0 5px 15px rgba(255, 82, 82, 0.3);
                            position: relative;
                            overflow: hidden;
                        ">
                            <div style="
                                position: absolute;
                                top: 0;
                                left: 0;
                                right: 0;
                                bottom: 0;
                                background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
                                animation: shimmer 2s infinite;
                            "></div>
                            
                            <div id="form_errors" style="position: relative; z-index: 1;">
                                {% for key, value in form.errors.items %}
                                    <strong>{{ value }}</strong>
                                {% endfor %}
                            </div>
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close" style="
                                color: white;
                                opacity: 0.8;
                                background: none;
                                border: none;
                                font-size: 1.5rem;
                                position: absolute;
                                top: 10px;
                                right: 15px;
                                cursor: pointer;
                                transition: opacity 0.3s ease;
                            " onmouseover="this.style.opacity='1'" onmouseout="this.style.opacity='0.8'">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                    {% endif %}
                    
                    <div class="card-body" style="
                        padding: 35px 30px;
                        background: rgba(255, 255, 255, 0.9);
                    ">
                        <form method="POST">
                            {% csrf_token %}
                            <div class="form-row" style="margin: 0;">
                                <div class="col-md-10 offset-md-1" style="padding: 0;">
                                    <div class="form-group" style="margin-bottom: 30px;">
                                        <label class="small mb-1" for="id_email" style="
                                            color: #006064;
                                            font-weight: 600;
                                            margin-bottom: 8px;
                                            display: block;
                                            font-size: 0.9rem;
                                        ">Email Address</label>
                                        <div style="position: relative;">
                                            <input type="email" name="email" class="form-control"
                                                   autocomplete="email" maxlength="254" required id="id_email"
                                                   placeholder="Enter your email address" style="
                                                border: 2px solid #b2ebf2;
                                                border-radius: 12px;
                                                padding: 14px 50px 14px 15px;
                                                font-size: 1rem;
                                                transition: all 0.3s ease;
                                                background: rgba(255, 255, 255, 0.9);
                                                box-shadow: 0 2px 10px rgba(0, 188, 212, 0.1);
                                            " onfocus="
                                                this.style.borderColor='#00bcd4';
                                                this.style.boxShadow='0 0 0 3px rgba(0, 188, 212, 0.1), 0 5px 15px rgba(0, 188, 212, 0.2)';
                                                this.style.transform='translateY(-2px)';
                                            " onblur="
                                                this.style.borderColor='#b2ebf2';
                                                this.style.boxShadow='0 2px 10px rgba(0, 188, 212, 0.1)';
                                                this.style.transform='translateY(0)';
                                            "/>
                                            <div style="
                                                position: absolute;
                                                right: 15px;
                                                top: 50%;
                                                transform: translateY(-50%);
                                                color: #00bcd4;
                                            ">
                                                <svg width="22" height="22" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z"/>
                                                </svg>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-row" style="margin: 0;">
                                <div class="col-md-10 offset-md-1" style="padding: 0;">
                                    <div class="form-group mt-0 mb-1">
                                        <button type="submit" class="col-md-12 btn btn-dark" style="
                                            width: 100%;
                                            background: linear-gradient(135deg, #00bcd4 0%, #0097a7 100%);
                                            border: none;
                                            border-radius: 12px;
                                            padding: 14px 20px;
                                            color: white;
                                            font-weight: 600;
                                            font-size: 1rem;
                                            cursor: pointer;
                                            transition: all 0.3s ease;
                                            box-shadow: 0 5px 15px rgba(0, 188, 212, 0.3);
                                            position: relative;
                                            overflow: hidden;
                                            text-transform: uppercase;
                                            letter-spacing: 1px;
                                        " onmouseover="
                                            this.style.background='linear-gradient(135deg, #00e5ff 0%, #00bcd4 100%)';
                                            this.style.transform='translateY(-2px)';
                                            this.style.boxShadow='0 8px 25px rgba(0, 229, 255, 0.4)';
                                        " onmouseout="
                                            this.style.background='linear-gradient(135deg, #00bcd4 0%, #0097a7 100%)';
                                            this.style.transform='translateY(0)';
                                            this.style.boxShadow='0 5px 15px rgba(0, 188, 212, 0.3)';
                                        " onmousedown="this.style.transform='translateY(1px)'" onmouseup="this.style.transform='translateY(-2px)'">
                                            <span style="position: relative; z-index: 1;">
                                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24" style="margin-right: 8px; vertical-align: middle;">
                                                    <path d="M2,21L23,12L2,3V10L17,12L2,14V21Z"/>
                                                </svg>
                                                Send Reset Link
                                            </span>
                                            <div style="
                                                position: absolute;
                                                top: 0;
                                                left: -100%;
                                                width: 100%;
                                                height: 100%;
                                                background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
                                                transition: left 0.5s ease;
                                            " class="button-shine"></div>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    
                    <div class="card-footer text-center" style="
                        background: rgba(0, 188, 212, 0.05);
                        border-top: 1px solid rgba(0, 188, 212, 0.1);
                        padding: 25px 30px;
                        text-align: center;
                    ">
                        <div class="small" style="
                            font-size: 0.9rem;
                            line-height: 1.8;
                        ">
                            <div style="margin-bottom: 15px;">
                                <svg width="16" height="16" fill="#00bcd4" viewBox="0 0 24 24" style="margin-right: 5px; vertical-align: middle;">
                                    <path d="M12,15C12.81,15 13.5,14.7 14.11,14.11C14.7,13.5 15,12.81 15,12C15,11.19 14.7,10.5 14.11,9.89C13.5,9.3 12.81,9 12,9C11.19,9 10.5,9.3 9.89,9.89C9.3,10.5 9,11.19 9,12C9,12.81 9.3,13.5 9.89,14.11C10.5,14.7 11.19,15 12,15M12,2C14.21,2 16.21,2.81 17.78,4.39C19.36,5.96 20.17,7.96 20.17,10.17C20.17,12.5 19.5,14.5 18.17,16.17L12,22L5.83,16.17C4.5,14.5 3.83,12.5 3.83,10.17C3.83,7.96 4.64,5.96 6.22,4.39C7.79,2.81 9.79,2 12,2Z"/>
                                </svg>
                                <a href="{% url 'users-register' %}" style="
                                    color: #00bcd4;
                                    text-decoration: none;
                                    font-weight: 500;
                                    transition: all 0.3s ease;
                                    padding: 5px 10px;
                                    border-radius: 20px;
                                    display: inline-block;
                                " onmouseover="
                                    this.style.color='#00e5ff';
                                    this.style.background='rgba(0, 188, 212, 0.1)';
                                    this.style.transform='translateY(-1px)';
                                " onmouseout="
                                    this.style.color='#00bcd4';
                                    this.style.background='transparent';
                                    this.style.transform='translateY(0)';
                                ">Create A New Account</a>
                            </div>
                            
                            <div>
                                <svg width="16" height="16" fill="#00bcd4" viewBox="0 0 24 24" style="margin-right: 5px; vertical-align: middle;">
                                    <path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"/>
                                </svg>
                                <a href="{% url 'login' %}" style="
                                    color: #00bcd4;
                                    text-decoration: none;
                                    font-weight: 500;
                                    transition: all 0.3s ease;
                                    padding: 5px 10px;
                                    border-radius: 20px;
                                    display: inline-block;
                                " onmouseover="
                                    this.style.color='#00e5ff';
                                    this.style.background='rgba(0, 188, 212, 0.1)';
                                    this.style.transform='translateY(-1px)';
                                " onmouseout="
                                    this.style.color='#00bcd4';
                                    this.style.background='transparent';
                                    this.style.transform='translateY(0)';
                                ">Back To Login</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
@keyframes gradientFlow {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}

@keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

@keyframes shimmer {
    0% { transform: translateX(-100%) translateY(-100%) rotate(30deg); }
    100% { transform: translateX(100%) translateY(100%) rotate(30deg); }
}

button:hover .button-shine {
    left: 100% !important;
}

/* Mobile responsiveness */
@media (max-width: 768px) {
    .form-content {
        padding: 0.5rem !important;
        min-height: auto !important;
    }
    
    .container {
        padding: 0 !important;
    }
    
    .row {
        padding: 0 10px !important;
    }
    
    .col-lg-5 {
        padding: 0 10px !important;
        max-width: 100% !important;
    }
    
    .card-header {
        padding: 25px 20px !important;
    }
    
    .card-header h3 {
        font-size: 1.4rem !important;
    }
    
    .card-header div:first-child {
        width: 60px !important;
        height: 60px !important;
        margin-bottom: 15px !important;
    }
    
    .card-header svg {
        width: 30px !important;
        height: 30px !important;
    }
    
    .card-body {
        padding: 25px 20px !important;
    }
    
    .card-footer {
        padding: 20px !important;
    }
    
    .form-group {
        margin-bottom: 25px !important;
    }
    
    input {
        padding: 12px 45px 12px 12px !important;
    }
    
    button {
        padding: 12px 15px !important;
        font-size: 0.9rem !important;
    }
}

@media (max-width: 576px) {
    .form-content {
        padding: 0.25rem !important;
    }
    
    .row {
        padding: 0 5px !important;
    }
    
    .col-lg-5 {
        padding: 0 5px !important;
    }
    
    .card-header {
        padding: 20px 15px !important;
    }
    
    .card-header h3 {
        font-size: 1.3rem !important;
    }
    
    .card-header p {
        font-size: 0.85rem !important;
    }
    
    .card-body {
        padding: 20px 15px !important;
    }
    
    .card-footer {
        padding: 15px !important;
    }
    
    .alert {
        margin: 15px !important;
        padding: 12px 15px !important;
    }
    
    label {
        font-size: 0.85rem !important;
    }
    
    input {
        font-size: 0.9rem !important;
        padding: 10px 40px 10px 10px !important;
    }
    
    .small {
        font-size: 0.8rem !important;
    }
}

@media (max-width: 400px) {
    .card-header h3 {
        font-size: 1.2rem !important;
    }
    
    .card-body {
        padding: 15px 12px !important;
    }
    
    input {
        font-size: 0.85rem !important;
    }
    
    button {
        font-size: 0.85rem !important;
        padding: 10px 12px !important;
    }
    
    .card-footer {
        padding: 12px !important;
    }
    
    .small {
        font-size: 0.75rem !important;
    }
}
</style>

{% endblock content %}